

import React, { useState, useEffect } from "react";
import styles from "./contractors.module.css";
import edit from "../Project Owner Details Popup/Owner Popup Svgs/edit.svg";
import geotech from "./Contractors Popup Svgs/geotech.svg";
import agent from "../Project Owner Details Popup/Owner Popup Svgs/fullName.svg";
import energy from "./Contractors Popup Svgs/energy.svg";
import surveyor from "./Contractors Popup Svgs/surveyor.svg";
import council from "./Contractors Popup Svgs/council.svg";
import water from "./Contractors Popup Svgs/water.svg";
import downArrow from "./Contractors Popup Svgs/downArrow.svg";
import upArrow from "./Contractors Popup Svgs/upArrow.svg";
import { Tooltip } from "@mui/material";
// import Tooltip from "@mui/material/Tooltip";
import Typography from "@mui/material/Typography";
import { styled } from "@mui/material/styles";

function truncateText(text, maxLength) {
  return text.length > maxLength ? text.slice(0, maxLength) + "..." : text;
}


const CustomTooltip = styled(Tooltip)({
  "& .MuiTooltip-tooltip": {
    maxWidth: "max-content", // Set max width for tooltip
    whiteSpace: "normal", // Allow text to wrap
  },
});

const TruncatedText = styled(Typography)({
  maxWidth: "45%", // Set max width for truncation
  whiteSpace: "nowrap",
  overflow: "hidden",
  textOverflow: "ellipsis",
  display: "inline-block",
  verticalAlign: "middle",
  fontWeight: "bold",
  color: "#333",
  fontSize: "16px"
});




const Contractors = ({ data }) => {
  const [collapsed, setCollapsed] = useState(true);
  const [isMobile, setIsMobile] = useState(window.innerWidth <= 768);
  const [projectData,setProjectData] = useState([])

  const renderWithTooltip = (text, maxLength) => {
    const isTruncated = text && text.length > maxLength;
    const displayText = isTruncated ? truncateText(text, maxLength) : text || "-";
    return isTruncated ? (
      <Tooltip title={text} placement="top" arrow>
        <label className={styles.truncatedLabel}>{displayText}</label>
      </Tooltip>
    ) : (
      <label className={styles.truncatedLabel}>{displayText}</label>
    );
  };


  
  const [custom_Fields, setCustom_Fields] = useState([])
    useEffect(()=>{
      if(data){
        // console.log(data)
        setProjectData(data[0])
        setCustom_Fields(data?.[0]?.data?.custom_fields)
        // console.log(data?.[0])
      }
    },[data])
// useEffect(()=>{
//   if(data){
//     setProjectData(data[0])
//   }
// },[data])
  useEffect(() => {
    const handleResize = () => {
      setIsMobile(window.innerWidth <= 768);
    };

    window.addEventListener("resize", handleResize);
    handleResize(); // Initial check

    return () => window.removeEventListener("resize", handleResize);
  }, []);

  const toggleCollapse = () => {
    if (isMobile) {
      setCollapsed(!collapsed);
    }
  };



  return (
    <div className={styles.container}>
      {/* Contractors Section */}
      <div className={styles.section}>
        <div className={styles.header}>
          <h3>Contacts</h3>
          <button className={styles.editButton}>
            <img src={edit} alt="Edit" className={styles.icon} />
            <span className={styles.label}>Edit</span>
          </button>
        </div>

        {/* Always Visible Fields */}
        <div className={styles.detailRow}>
          {/* <img src={geotech} alt="Geotech Engineer" className={styles.icon} /> */}
<div className={styles.icon} >
<svg  width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_1534_5459)">
<path d="M16.7799 8.53346L16.0641 8.22564V7.73621C16.0741 4.73222 14.1787 2.05201 11.3431 1.0607V0.370911C11.3431 0.166162 11.1769 0 10.9723 0H7.00399C6.79936 0 6.6332 0.166162 6.6332 0.370911V1.06434C3.79751 2.05566 1.90211 4.73587 1.91217 7.73985V8.23306L1.20378 8.53346C1.06653 8.5914 0.977539 8.72601 0.977539 8.87471V10.8218C0.977539 11.0264 1.1437 11.1926 1.34845 11.1926H1.8306V11.9344C1.8306 12.139 1.99663 12.3052 2.20138 12.3052H3.53281C3.65926 12.7695 3.84503 13.216 4.08534 13.6328L3.14343 14.5749C2.99951 14.7194 2.99951 14.9531 3.14343 15.0977L4.71958 16.6739C4.86412 16.8178 5.09778 16.8178 5.24244 16.6739L6.18436 15.732C6.60015 15.9723 7.04521 16.1577 7.50838 16.2845V17.6159C7.50838 17.8206 7.67454 17.9867 7.87929 17.9867H10.1044C10.3091 17.9867 10.4753 17.8206 10.4753 17.6159V16.2845C10.9396 16.1581 11.386 15.9727 11.8029 15.732L12.745 16.6739C12.8895 16.8178 13.1232 16.8178 13.2679 16.6739L14.844 15.0977C14.9879 14.9531 14.9879 14.7194 14.844 14.5749L13.902 13.6328C14.1423 13.216 14.3282 12.7695 14.4546 12.3052H15.7859C15.9907 12.3052 16.1568 12.139 16.1568 11.9344V11.1926H16.639C16.8437 11.1926 17.0098 11.0264 17.0098 10.8218V8.87471C17.009 8.72488 16.9183 8.59027 16.7799 8.53346ZM7.36748 0.745466H10.6014V6.94248H7.3749L7.36748 0.745466ZM15.4188 11.5635H14.1839C14.0059 11.5593 13.8504 11.6825 13.813 11.8563C13.688 12.4371 13.4582 12.99 13.1344 13.4881C13.039 13.6347 13.0595 13.8279 13.1825 13.9517L14.0689 14.8381L13.0082 15.8913L12.1218 15.005C11.998 14.8819 11.8048 14.8614 11.6583 14.9568C11.1602 15.2805 10.6073 15.5105 10.0264 15.6354C9.85249 15.6729 9.72944 15.8284 9.73347 16.0063V17.2561H8.25008V15.9952C8.25422 15.8172 8.13105 15.6618 7.95709 15.6244C7.37641 15.4997 6.82337 15.2698 6.32539 14.9456C6.17883 14.8504 5.98565 14.8707 5.86172 14.9939L4.97535 15.8803L3.92584 14.8306L4.81221 13.9443C4.93538 13.8205 4.95575 13.6273 4.86047 13.4807C4.53368 12.9856 4.30002 12.4352 4.17069 11.8563C4.13311 11.6825 3.97775 11.5593 3.79978 11.5635H2.56488V11.1926H5.95448C6.15772 12.8681 7.68083 14.0615 9.3564 13.8579C10.7523 13.6885 11.8526 12.5885 12.0218 11.1926H15.4151L15.4188 11.5635ZM6.711 11.1926H11.2763C11.0723 12.4542 9.88404 13.3117 8.62249 13.1077C7.63822 12.9486 6.86648 12.1768 6.70736 11.1926H6.711ZM16.2718 10.4509H1.71559V9.11942L2.43127 8.81161C2.56852 8.75379 2.65751 8.61918 2.65751 8.47036V7.72867C2.64934 5.13858 4.22624 2.80741 6.6332 1.85053V7.31339C6.6332 7.51801 6.79924 7.68417 7.00399 7.68417H10.9796C11.1843 7.68417 11.3505 7.51801 11.3505 7.31339V1.85053C13.7614 2.80703 15.3402 5.14272 15.3298 7.73608V8.4779C15.3298 8.62659 15.4188 8.76121 15.556 8.81902L16.2717 9.12684V10.4509H16.2718Z" fill="black"/>
</g>
<defs>
<clipPath id="clip0_1534_5459">
<rect width="18" height="18" fill="white"/>
</clipPath>
</defs>
</svg>

</div>
          <span className={styles.label}>Geotech</span>
          {/* <span className={styles.value}> */}
            {/* {projectData?.data?.custom_fields?.[11]?.value?.[0]?.name || "N/A"} */}
            {/* {custom_Fields?.find(field => field?.name === "Geotech")?.value[0]?.name} */}
            {/* {renderWithTooltip(custom_Fields?.find(field => field?.name === "Geotech")?.value[0]?.name, isMobile ? 9 : 40)} */}

            <CustomTooltip
            title={
              custom_Fields?.find(field => field?.name === "Geotech")?.value[0]?.name
            }
            arrow
          >
            <TruncatedText>
              {
                custom_Fields?.find(field => field?.name === "Geotech")?.value[0]?.name
              }
            </TruncatedText>
          </CustomTooltip>
          {/* </span> */}
        </div>

        <div className={styles.detailRow}>
          {/* <img src={geotech} alt="Structural Engineer" className={styles.icon} /> */}
<div className={styles.icon}>
<svg  width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_1534_5459)">
<path d="M16.7799 8.53346L16.0641 8.22564V7.73621C16.0741 4.73222 14.1787 2.05201 11.3431 1.0607V0.370911C11.3431 0.166162 11.1769 0 10.9723 0H7.00399C6.79936 0 6.6332 0.166162 6.6332 0.370911V1.06434C3.79751 2.05566 1.90211 4.73587 1.91217 7.73985V8.23306L1.20378 8.53346C1.06653 8.5914 0.977539 8.72601 0.977539 8.87471V10.8218C0.977539 11.0264 1.1437 11.1926 1.34845 11.1926H1.8306V11.9344C1.8306 12.139 1.99663 12.3052 2.20138 12.3052H3.53281C3.65926 12.7695 3.84503 13.216 4.08534 13.6328L3.14343 14.5749C2.99951 14.7194 2.99951 14.9531 3.14343 15.0977L4.71958 16.6739C4.86412 16.8178 5.09778 16.8178 5.24244 16.6739L6.18436 15.732C6.60015 15.9723 7.04521 16.1577 7.50838 16.2845V17.6159C7.50838 17.8206 7.67454 17.9867 7.87929 17.9867H10.1044C10.3091 17.9867 10.4753 17.8206 10.4753 17.6159V16.2845C10.9396 16.1581 11.386 15.9727 11.8029 15.732L12.745 16.6739C12.8895 16.8178 13.1232 16.8178 13.2679 16.6739L14.844 15.0977C14.9879 14.9531 14.9879 14.7194 14.844 14.5749L13.902 13.6328C14.1423 13.216 14.3282 12.7695 14.4546 12.3052H15.7859C15.9907 12.3052 16.1568 12.139 16.1568 11.9344V11.1926H16.639C16.8437 11.1926 17.0098 11.0264 17.0098 10.8218V8.87471C17.009 8.72488 16.9183 8.59027 16.7799 8.53346ZM7.36748 0.745466H10.6014V6.94248H7.3749L7.36748 0.745466ZM15.4188 11.5635H14.1839C14.0059 11.5593 13.8504 11.6825 13.813 11.8563C13.688 12.4371 13.4582 12.99 13.1344 13.4881C13.039 13.6347 13.0595 13.8279 13.1825 13.9517L14.0689 14.8381L13.0082 15.8913L12.1218 15.005C11.998 14.8819 11.8048 14.8614 11.6583 14.9568C11.1602 15.2805 10.6073 15.5105 10.0264 15.6354C9.85249 15.6729 9.72944 15.8284 9.73347 16.0063V17.2561H8.25008V15.9952C8.25422 15.8172 8.13105 15.6618 7.95709 15.6244C7.37641 15.4997 6.82337 15.2698 6.32539 14.9456C6.17883 14.8504 5.98565 14.8707 5.86172 14.9939L4.97535 15.8803L3.92584 14.8306L4.81221 13.9443C4.93538 13.8205 4.95575 13.6273 4.86047 13.4807C4.53368 12.9856 4.30002 12.4352 4.17069 11.8563C4.13311 11.6825 3.97775 11.5593 3.79978 11.5635H2.56488V11.1926H5.95448C6.15772 12.8681 7.68083 14.0615 9.3564 13.8579C10.7523 13.6885 11.8526 12.5885 12.0218 11.1926H15.4151L15.4188 11.5635ZM6.711 11.1926H11.2763C11.0723 12.4542 9.88404 13.3117 8.62249 13.1077C7.63822 12.9486 6.86648 12.1768 6.70736 11.1926H6.711ZM16.2718 10.4509H1.71559V9.11942L2.43127 8.81161C2.56852 8.75379 2.65751 8.61918 2.65751 8.47036V7.72867C2.64934 5.13858 4.22624 2.80741 6.6332 1.85053V7.31339C6.6332 7.51801 6.79924 7.68417 7.00399 7.68417H10.9796C11.1843 7.68417 11.3505 7.51801 11.3505 7.31339V1.85053C13.7614 2.80703 15.3402 5.14272 15.3298 7.73608V8.4779C15.3298 8.62659 15.4188 8.76121 15.556 8.81902L16.2717 9.12684V10.4509H16.2718Z" fill="black"/>
</g>
<defs>
<clipPath id="clip0_1534_5459">
<rect width="18" height="18" fill="white"/>
</clipPath>
</defs>
</svg>
</div>
          <span className={styles.label}>Structural </span>
          {/* <span className={styles.value}> */}
            {/* {projectData?.data?.custom_fields?.[17]?.value?.[0]?.name || "N/A"} */}
            {/* {custom_Fields?.find(field => field?.name === "Structural Engineer")?.value[0]?.name} */}
            {/* {renderWithTooltip(custom_Fields?.find(field => field?.name === "Structural Engineer")?.value[0]?.name, isMobile ? 9 : 40)} */}
            <CustomTooltip
            title={
              custom_Fields?.find(field => field?.name === "Structural Engineer")?.value[0]?.name
            }
            arrow
          >
            <TruncatedText>
              {
                custom_Fields?.find(field => field?.name === "Structural Engineer")?.value[0]?.name
              }
            </TruncatedText>
          </CustomTooltip>

          {/* </span> */}
        </div>

        {/* Collapse Button (Only Show at `max-width: 500px`) */}
        {isMobile && collapsed && (
          <button className={styles.collapseButton} onClick={toggleCollapse}>
            <span className={styles.arrowIcon}>
              {/* <img src={downArrow} alt="Expand" /> */}
              <div >
              <svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.00005 9.50005C8.80823 9.50005 8.61623 9.42673 8.4698 9.2803L0.969797 1.7803C0.676734 1.48723 0.676734 1.01267 0.969797 0.719797C1.26286 0.426922 1.73742 0.426734 2.0303 0.719797L9.00005 7.68955L15.9698 0.719797C16.2629 0.426734 16.7374 0.426734 17.0303 0.719797C17.3232 1.01286 17.3234 1.48742 17.0303 1.7803L9.5303 9.2803C9.38386 9.42673 9.19186 9.50005 9.00005 9.50005Z" fill="black"/>
</svg>
              </div>


            </span>
          </button>
        )}

        {/* Show all fields when screen is above 500px */}
        {!isMobile || !collapsed ? (
          <>

            <div className={styles.detailRow}>
              {/* <img src={energy} alt="Energy Rater" className={styles.icon} /> */}
              <div className={styles.icon}>
              <svg  width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path className={styles.icon} d="M13.2073 16.7007C12.9938 16.7009 12.7835 16.6487 12.5948 16.5489L9.08871 14.7061C9.06154 14.6916 9.03121 14.684 9.0004 14.684C8.96959 14.684 8.93926 14.6916 8.91209 14.7061L5.40659 16.5489C5.18935 16.6632 4.94446 16.7144 4.69962 16.6968C4.45478 16.6791 4.21977 16.5933 4.02117 16.449C3.82257 16.3047 3.66832 16.1078 3.57587 15.8804C3.48341 15.653 3.45645 15.4042 3.49802 15.1623L4.1674 11.2591C4.17254 11.2285 4.1701 11.1971 4.1603 11.1677C4.15049 11.1383 4.13361 11.1117 4.11115 11.0904L1.27727 8.32455C1.10133 8.15313 0.976905 7.93585 0.918109 7.69734C0.859313 7.45884 0.868493 7.20863 0.944609 6.97507C1.02072 6.74151 1.16073 6.53394 1.34877 6.37587C1.53681 6.21781 1.76536 6.11557 2.00852 6.08073L5.92521 5.51205C5.95569 5.50761 5.98463 5.49582 6.00952 5.47769C6.03442 5.45956 6.05452 5.43563 6.06809 5.40798L7.81915 1.8558C7.92761 1.63559 8.09556 1.45015 8.30398 1.32047C8.5124 1.1908 8.75296 1.12207 8.99843 1.12207C9.2439 1.12207 9.48446 1.1908 9.69288 1.32047C9.9013 1.45015 10.0693 1.63559 10.1777 1.8558L11.9299 5.40686C11.9436 5.43442 11.9637 5.45827 11.9886 5.47639C12.0135 5.4945 12.0423 5.50635 12.0728 5.51092L15.9928 6.08017C16.2359 6.1152 16.4643 6.21755 16.6522 6.37564C16.8401 6.53373 16.98 6.74125 17.0561 6.97473C17.1322 7.2082 17.1414 7.45831 17.0827 7.69676C17.0241 7.9352 16.8998 8.15247 16.7241 8.32398L13.8874 11.0881C13.865 11.1095 13.8482 11.1361 13.8384 11.1655C13.8286 11.1949 13.8261 11.2263 13.8311 11.2569L14.5005 15.16C14.5327 15.3486 14.5234 15.542 14.4733 15.7266C14.4232 15.9113 14.3335 16.0828 14.2103 16.2292C14.0872 16.3756 13.9336 16.4935 13.7603 16.5745C13.587 16.6556 13.3981 16.6979 13.2068 16.6985L13.2073 16.7007ZM9.0004 13.5586C9.21373 13.5586 9.42384 13.6107 9.6124 13.7105L13.1179 15.5527C13.1489 15.5704 13.1845 15.5785 13.2202 15.576C13.2558 15.5735 13.2899 15.5605 13.3181 15.5386C13.3476 15.5184 13.3705 15.49 13.384 15.4569C13.3975 15.4238 13.401 15.3875 13.3941 15.3524L12.7241 11.4487C12.6884 11.2386 12.7041 11.0229 12.7699 10.8202C12.8357 10.6175 12.9497 10.4338 13.1021 10.2849L15.9388 7.52017C15.9642 7.49537 15.982 7.46399 15.9905 7.42956C15.9989 7.39513 15.9976 7.35903 15.9866 7.32534C15.9756 7.29164 15.9554 7.26169 15.9282 7.23887C15.9011 7.21604 15.8682 7.20126 15.8331 7.19617L11.9136 6.62636C11.7026 6.5958 11.5022 6.51434 11.3297 6.38899C11.1572 6.26364 11.0178 6.09819 10.9236 5.90692L9.16915 2.3553C9.15344 2.32351 9.12915 2.29676 9.09903 2.27805C9.06892 2.25934 9.03417 2.24943 8.99871 2.24943C8.96326 2.24943 8.92851 2.25934 8.89839 2.27805C8.86827 2.29676 8.84399 2.32351 8.82827 2.3553L7.07721 5.9058C6.98293 6.09714 6.84347 6.26264 6.67088 6.38799C6.49829 6.51334 6.29777 6.59477 6.08665 6.62523L2.16771 7.19617C2.13256 7.20114 2.09951 7.21589 2.07233 7.23872C2.04515 7.26156 2.02492 7.29157 2.01396 7.32533C2.003 7.3591 2.00174 7.39526 2.01033 7.42971C2.01891 7.46416 2.037 7.4955 2.06252 7.52017L4.89865 10.2849C5.05106 10.4338 5.16507 10.6175 5.23091 10.8202C5.29674 11.0229 5.31244 11.2386 5.27665 11.4487L4.60671 15.3524C4.60063 15.3875 4.60452 15.4236 4.61794 15.4565C4.63135 15.4895 4.65375 15.5181 4.68259 15.5389C4.71143 15.5598 4.74555 15.5721 4.78106 15.5746C4.81657 15.577 4.85205 15.5694 4.88346 15.5527L8.3884 13.7099C8.57709 13.6105 8.78714 13.5586 9.0004 13.5586Z" fill="black"/>
</svg>
              </div>


              <span className={styles.label}>Energy Rater</span>
              {/* <span className={styles.value}> */}
                {/* {projectData?.data?.custom_fields?.[8]?.value?.[0]?.name || "N/A"} */}
                {/* {custom_Fields?.find(field => field?.name === "Energy Rater")?.value[0]?.name} */}
            {/* {renderWithTooltip(custom_Fields?.find(field => field?.name === "Energy Rater")?.value[0]?.name, isMobile ? 9 : 40)} */}
            <CustomTooltip
            title={
              custom_Fields?.find(field => field?.name === "Energy Rater")?.value[0]?.name
            }
            arrow
          >
            <TruncatedText>
              {
                custom_Fields?.find(field => field?.name === "Energy Rater")?.value[0]?.name
              }
            </TruncatedText>
          </CustomTooltip>


              {/* </span> */}
            </div>
            <div className={styles.detailRow}>
              {/* <img src={surveyor} alt="Surveyor" className={styles.icon} /> */}
              <div className={styles.icon}>
              <svg  width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M9 9.1875C9.31065 9.1875 9.5625 9.43935 9.5625 9.75V16.5C9.5625 16.8106 9.31065 17.0625 9 17.0625C8.68935 17.0625 8.4375 16.8106 8.4375 16.5V9.75C8.4375 9.43935 8.68935 9.1875 9 9.1875Z" fill="black"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M8.688 9.28206C8.94653 9.10971 9.29573 9.17953 9.46808 9.43806L13.9681 16.1881C14.1404 16.4465 14.0705 16.7958 13.8121 16.9681C13.5536 17.1404 13.2044 17.0706 13.032 16.8121L8.532 10.0621C8.35973 9.80361 8.42955 9.45433 8.688 9.28206Z" fill="black"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M9.31209 9.28206C9.57054 9.45433 9.64044 9.80361 9.46809 10.0621L4.96809 16.8121C4.79576 17.0706 4.44652 17.1404 4.18804 16.9681C3.92956 16.7958 3.85971 16.4465 4.03203 16.1881L8.53201 9.43806C8.70436 9.17953 9.05357 9.10971 9.31209 9.28206Z" fill="black"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.6875C9.31065 4.6875 9.5625 4.93934 9.5625 5.25V7.5C9.5625 7.81065 9.31065 8.0625 9 8.0625C8.68935 8.0625 8.4375 7.81065 8.4375 7.5V5.25C8.4375 4.93934 8.68935 4.6875 9 4.6875Z" fill="black"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.5625 7.5C6.5625 7.18934 6.81434 6.9375 7.125 6.9375H10.875C11.1856 6.9375 11.4375 7.18934 11.4375 7.5C11.4375 7.81065 11.1856 8.0625 10.875 8.0625H7.125C6.81434 8.0625 6.5625 7.81065 6.5625 7.5Z" fill="black"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M3.1875 2.25C3.1875 1.93934 3.43934 1.6875 3.75 1.6875H13.5C13.8106 1.6875 14.0625 1.93934 14.0625 2.25V5.25C14.0625 5.56066 13.8106 5.8125 13.5 5.8125H3.75C3.43934 5.8125 3.1875 5.56066 3.1875 5.25V2.25ZM4.3125 2.8125V4.6875H12.9375V2.8125H4.3125Z" fill="black"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M15 2.4375C15.3106 2.4375 15.5625 2.68934 15.5625 3V4.5C15.5625 4.81066 15.3106 5.0625 15 5.0625C14.6894 5.0625 14.4375 4.81066 14.4375 4.5V3C14.4375 2.68934 14.6894 2.4375 15 2.4375Z" fill="black"/>
</svg>
              </div>


              <span className={styles.label}>Surveyor</span>
              {/* <span className={styles.value}> */}
                {/* {projectData?.data?.custom_fields?.[0]?.value?.[0]?.name || "N/A"} */}
                {/* {custom_Fields?.find(field => field?.name === "Building Surveyor")?.value[0]?.name} */}
            {/* {renderWithTooltip(custom_Fields?.find(field => field?.name === "Building Surveyor")?.value[0]?.name, isMobile ? 9 : 40)} */}
            <CustomTooltip
            title={
              custom_Fields?.find(field => field?.name === "Building Surveyor")?.value[0]?.name
            }
            arrow
          >
            <TruncatedText>
              {
                custom_Fields?.find(field => field?.name === "Building Surveyor")?.value[0]?.name
              }
            </TruncatedText>
          </CustomTooltip>


              {/* </span> */}
            </div>
            <div className={styles.detailRow}>
              {/* <img src={council} alt="Council" className={styles.icon} /> */}
              <div className={styles.icon} >
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_1575_8059)">
<path d="M8.99953 4.50488C6.52115 4.50488 4.50488 6.52115 4.50488 8.99953C4.50488 11.4779 6.52115 13.4942 8.99953 13.4942C11.4779 13.4942 13.4942 11.4779 13.4942 8.99953C13.4942 6.52115 11.4779 4.50488 8.99953 4.50488ZM8.99953 12.4395C7.10274 12.4395 5.55957 10.8963 5.55957 8.99953C5.55957 7.10274 7.10274 5.55957 8.99953 5.55957C10.8963 5.55957 12.4395 7.10274 12.4395 8.99953C12.4395 10.8963 10.8963 12.4395 8.99953 12.4395Z" fill="black"/>
<path d="M5.98395 3.44078C6.0599 3.44078 6.13708 3.4243 6.21027 3.38942C6.67472 3.16832 7.1632 3.00545 7.66637 2.90341C7.99047 3.2867 8.47442 3.53087 9.01453 3.53087C9.53817 3.53087 10.0091 3.30139 10.3326 2.93816C10.8333 3.05338 11.3178 3.22916 11.7768 3.46262C11.8534 3.50162 11.935 3.52016 12.0154 3.52016C12.2076 3.52016 12.3928 3.41483 12.4858 3.2319C12.618 2.97235 12.5146 2.65485 12.2551 2.52274C11.7806 2.28131 11.2827 2.09276 10.7691 1.95941C10.7761 1.89569 10.78 1.83101 10.78 1.76537C10.78 0.791977 9.98806 0 9.01453 0C8.04114 0 7.24917 0.791977 7.24917 1.76537C7.24917 1.81535 7.25178 1.86465 7.2559 1.91354C6.73926 2.03343 6.23691 2.20853 5.75681 2.43718C5.49383 2.56256 5.38218 2.87718 5.50742 3.14003C5.59779 3.32996 5.78675 3.44078 5.98395 3.44078ZM9.01453 1.05469C9.40647 1.05469 9.72535 1.37343 9.72535 1.76537C9.72535 2.1573 9.40647 2.47618 9.01453 2.47618C8.6226 2.47618 8.30385 2.1573 8.30385 1.76537C8.30385 1.37343 8.6226 1.05469 9.01453 1.05469Z" fill="black"/>
<path d="M16.2343 7.24923C16.1843 7.24923 16.135 7.25184 16.0861 7.25596C15.9663 6.73946 15.7911 6.23725 15.5624 5.75687C15.4372 5.49389 15.1224 5.3821 14.8596 5.50748C14.5966 5.63259 14.485 5.94735 14.6102 6.2102C14.8313 6.67492 14.9942 7.1634 15.0962 7.66643C14.7129 7.99053 14.4688 8.47448 14.4688 9.01473C14.4688 9.53837 14.6982 10.0091 15.0615 10.3327C14.9462 10.8334 14.7705 11.3179 14.5369 11.7768C14.4048 12.0365 14.5082 12.3539 14.7677 12.486C14.8443 12.525 14.9261 12.5435 15.0065 12.5435C15.1985 12.5435 15.3838 12.4382 15.4769 12.2551C15.7183 11.7807 15.9067 11.2829 16.0402 10.7692C16.1039 10.7763 16.1686 10.7801 16.2341 10.7801C17.2076 10.7801 17.9996 9.98812 17.9996 9.01473C17.9996 8.0412 17.2076 7.24923 16.2343 7.24923ZM16.2343 9.72541C15.8423 9.72541 15.5234 9.40653 15.5234 9.01473C15.5234 8.62279 15.8423 8.30391 16.2343 8.30391C16.6261 8.30391 16.9449 8.62279 16.9449 9.01473C16.9449 9.40653 16.6262 9.72541 16.2343 9.72541Z" fill="black"/>
<path d="M11.7892 14.611C11.3247 14.8323 10.8363 14.9951 10.3331 15.0972C10.009 14.7138 9.52504 14.4697 8.98479 14.4697C8.46129 14.4697 7.99039 14.6991 7.66684 15.0623C7.16614 14.9471 6.68164 14.7713 6.22269 14.5378C5.96314 14.4057 5.64563 14.509 5.51352 14.7686C5.38141 15.0281 5.48482 15.3456 5.74437 15.4777C6.21871 15.7191 6.71666 15.9077 7.23027 16.041C7.22327 16.1048 7.21942 16.1694 7.21942 16.2351C7.21942 17.2085 8.0114 18.0005 8.98479 18.0005C9.95832 18.0005 10.7502 17.2085 10.7502 16.2351C10.7502 16.1851 10.7477 16.1359 10.7436 16.0871C11.2602 15.9672 11.7624 15.7919 12.2426 15.5633C12.5056 15.438 12.6173 15.1233 12.492 14.8604C12.3668 14.5974 12.0522 14.4857 11.7892 14.611ZM8.98479 16.9458C8.59299 16.9458 8.27411 16.627 8.27411 16.2351C8.27411 15.8432 8.59299 15.5243 8.98479 15.5243C9.37673 15.5243 9.69561 15.8432 9.69561 16.2351C9.69561 16.627 9.37673 16.9458 8.98479 16.9458Z" fill="black"/>
<path d="M3.53087 8.98487C3.53087 8.46123 3.30139 7.99033 2.93816 7.66678C3.05338 7.16608 3.22916 6.68158 3.46275 6.22263C3.59486 5.96308 3.49146 5.64557 3.2319 5.51346C2.97235 5.38149 2.65485 5.48476 2.52274 5.74431C2.28131 6.21878 2.0929 6.71674 1.95941 7.23035C1.89569 7.22335 1.83101 7.21936 1.7655 7.21936C0.791977 7.21936 0 8.01134 0 8.98487C0 9.95826 0.791977 10.7502 1.76537 10.7502C1.81535 10.7502 1.86465 10.7476 1.91354 10.7435C2.03329 11.2601 2.20853 11.7623 2.43718 12.2426C2.52768 12.4324 2.71664 12.5433 2.91371 12.5433C2.98965 12.5433 3.06697 12.5269 3.14003 12.492C3.40302 12.3667 3.51466 12.0521 3.38942 11.7891C3.16832 11.3247 3.00545 10.8362 2.90341 10.333C3.2867 10.0089 3.53087 9.52498 3.53087 8.98487ZM1.05469 8.98487C1.05469 8.59293 1.37343 8.27405 1.76537 8.27405C2.1573 8.27405 2.47618 8.59293 2.47618 8.98487C2.47618 9.37667 2.1573 9.69554 1.76537 9.69554C1.37343 9.69554 1.05469 9.3768 1.05469 8.98487Z" fill="black"/>
</g>
<defs>
<clipPath id="clip0_1575_8059">
<rect width="18" height="18" fill="white"/>
</clipPath>
</defs>
</svg>

              </div>
              <span className={styles.label}>Council</span>
              {/* <span className={styles.value}> */}
                {/* {projectData?.data?.custom_fields?.[7]?.value?.[0]?.name || "N/A"} */}
                {/* {custom_Fields?.find(field => field?.name === "Council")?.value[0]?.name} */}
            {/* {renderWithTooltip(custom_Fields?.find(field => field?.name === "Council")?.value[0]?.name, isMobile ? 9 : 40)} */}
            <CustomTooltip
            title={
              custom_Fields?.find(field => field?.name === "Council")?.value[0]?.name
            }
            arrow
          >
            <TruncatedText>
              {
                custom_Fields?.find(field => field?.name === "Council")?.value[0]?.name
              }
            </TruncatedText>
          </CustomTooltip>


              {/* </span> */}
            </div>

            {/* Water Authority (Always Visible) */}
            <div className={`${styles.detailRow} `}>
              {/* <img src={water} alt="Water Authority" className={styles.icon} /> */}
              <div>
              <svg className={styles.icon} width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10.6627 1.9845C10.2471 1.37323 9.8803 0.81085 9.53798 0.297376C9.48908 0.224023 9.41572 0.15067 9.34237 0.101767C9.04896 -0.0938416 8.65774 0.00396285 8.46213 0.297376C8.14427 0.81085 7.7775 1.34877 7.33738 1.9845C5.40574 4.82083 2.52051 9.09978 2.52051 11.5449C2.52051 13.3298 3.25404 14.9436 4.4277 16.1173C5.60135 17.2665 7.21512 18 9.00006 18C10.785 18 12.3988 17.2665 13.5724 16.0928C14.7461 14.9191 15.4796 13.3054 15.4796 11.5204C15.4796 9.07533 12.5944 4.82083 10.6627 1.9845ZM12.6922 15.2126C11.7386 16.1662 10.4427 16.7285 9.00006 16.7285C7.55744 16.7285 6.26153 16.1417 5.30794 15.2126C4.35434 14.259 3.79197 12.9631 3.79197 11.5204C3.79197 9.46655 6.55494 5.38321 8.38878 2.66914C8.60884 2.35127 8.80445 2.03341 9.00006 1.76444C9.19566 2.03341 9.39127 2.35127 9.61133 2.66914C11.4452 5.40766 14.2081 9.46655 14.2081 11.5204C14.2081 12.9631 13.6213 14.259 12.6922 15.2126Z" fill="black"/>
<path d="M12.79 11.0806C12.4477 11.0562 12.1543 11.3252 12.1298 11.6675C12.1054 12.2054 11.9342 12.7189 11.6653 13.159C11.3963 13.5991 11.0051 13.9903 10.5405 14.2348C10.2471 14.406 10.1248 14.7972 10.296 15.0906C10.4916 15.4329 10.8828 15.5308 11.1762 15.3596C11.8364 14.9928 12.3743 14.4549 12.7411 13.8436C13.1323 13.2323 13.3524 12.4988 13.3768 11.7408C13.4013 11.3985 13.1323 11.1051 12.79 11.0806Z" fill="black"/>
</svg>

              </div>
              <span className={styles.label}>Water Authority</span>
              {/* <span className={styles.value}> */}
                {/* {projectData?.data?.custom_fields?.[19]?.value?.[0]?.name || "N/A"} */}
                {/* {custom_Fields?.find(field => field?.name === "Water Authority")?.value[0]?.name} */}
            {/* {renderWithTooltip(custom_Fields?.find(field => field?.name === "Water Authority")?.value[0]?.name, isMobile ? 9 : 40)} */}
            <CustomTooltip
            title={
              custom_Fields?.find(field => field?.name === "Water Authority")?.value[0]?.name
            }
            arrow
          >
            <TruncatedText>
              {
                custom_Fields?.find(field => field?.name === "Water Authority")?.value[0]?.name
              }
            </TruncatedText>
          </CustomTooltip>



                
              {/* </span> */}
            </div>


            <div className={`${styles.detailRow} ${styles.brRemove}`}>
              {/* <img src={agent} alt="Agent Name" className={styles.icon} /> */}
              <div className={styles.icon} >
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10.4963 9.20782C11.1789 8.87021 11.7272 8.31166 12.0522 7.62295C12.3772 6.93424 12.4597 6.15586 12.2864 5.41432C12.113 4.67278 11.694 4.01166 11.0973 3.53841C10.5007 3.06517 9.76154 2.80762 9 2.80762C8.23846 2.80762 7.49931 3.06517 6.90267 3.53841C6.30602 4.01166 5.88697 4.67278 5.71361 5.41432C5.54025 6.15586 5.62278 6.93424 5.94778 7.62295C6.27277 8.31166 6.82114 8.87021 7.50375 9.20782C6.31792 9.53504 5.27204 10.242 4.52633 11.2203C3.78062 12.1987 3.3762 13.3945 3.375 14.6247V15.1872C3.375 15.3364 3.43426 15.4795 3.53975 15.5849C3.64524 15.6904 3.78832 15.7497 3.9375 15.7497H14.0625C14.2117 15.7497 14.3548 15.6904 14.4602 15.5849C14.5657 15.4795 14.625 15.3364 14.625 15.1872V14.6247C14.6238 13.3945 14.2194 12.1987 13.4737 11.2203C12.728 10.242 11.6821 9.53504 10.4963 9.20782ZM6.75 6.1872C6.75 5.74219 6.88196 5.30717 7.12919 4.93716C7.37643 4.56715 7.72783 4.27876 8.13896 4.10847C8.5501 3.93817 9.0025 3.89361 9.43895 3.98043C9.87541 4.06725 10.2763 4.28154 10.591 4.59621C10.9057 4.91087 11.12 5.31179 11.2068 5.74824C11.2936 6.1847 11.249 6.6371 11.0787 7.04823C10.9084 7.45937 10.62 7.81077 10.25 8.058C9.88002 8.30524 9.44501 8.4372 9 8.4372C8.40326 8.4372 7.83097 8.20014 7.40901 7.77819C6.98705 7.35623 6.75 6.78393 6.75 6.1872ZM4.5 14.6247C4.5 13.4312 4.97411 12.2866 5.81802 11.4427C6.66193 10.5988 7.80653 10.1247 9 10.1247C10.1935 10.1247 11.3381 10.5988 12.182 11.4427C13.0259 12.2866 13.5 13.4312 13.5 14.6247H4.5Z" fill="black"/>
</svg>

              </div>

              <span className={styles.label}>Agent Name</span>
              <span className={styles.value}>NA</span>

            </div>

            
            {/* Collapse Button (Only at `max-width: 500px`) */}
            {isMobile && (
              <button className={styles.collapseButton} onClick={toggleCollapse}>
                <span className={styles.arrowIcon}>
                  {/* <img src={upArrow} alt="Collapse" /> */}
                  <svg width="18" height="10" viewBox="0 0 18 10" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path transform="rotate(180, 9, 5)" d="M9.00005 9.50005C8.80823 9.50005 8.61623 9.42673 8.4698 9.2803L0.969797 1.7803C0.676734 1.48723 0.676734 1.01267 0.969797 0.719797C1.26286 0.426922 1.73742 0.426734 2.0303 0.719797L9.00005 7.68955L15.9698 0.719797C16.2629 0.426734 16.7374 0.426734 17.0303 0.719797C17.3232 1.01286 17.3234 1.48742 17.0303 1.7803L9.5303 9.2803C9.38386 9.42673 9.19186 9.50005 9.00005 9.50005Z" fill="black"/>
</svg>

                </span>
              </button>
            )}
          </>
        ) : null}
      </div>
    </div>
  );
};

export default Contractors;
